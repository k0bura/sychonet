---
import Base from '../layouts/Base.astro';
---

<Base title="sych0net" description="Project logs and documentation">
  <div class="ascii-art">
    <pre>      <span class="logo-6">▏</span></pre>
    <pre>      <span class="logo-5">▏</span></pre>
    <pre>  <span class="logo-4">▁</span><span class="logo-3">▁</span><span class="logo-2">▁</span>▁▏                                                                         </pre>
    <pre>      <span class="logo-1">███████╗██╗░░░██╗░██████╗██╗░░██╗░██████╗░███╗░░░██╗███████╗████████╗</span>    </pre>
    <pre>      <span class="logo-2">██╔════╝╚██╗░██╔╝██╔════╝██║░░██║██╔═══██╗████╗░░██║██╔════╝╚══██╔══╝</span>    </pre>
    <pre>      <span class="logo-3">███████╗░╚████╔╝░██║░░░░░███████║██║░░░██║██╔██╗░██║█████╗░░░░░██║░░░</span>    </pre>
    <pre>      <span class="logo-4">╚════██║░░╚██╔╝░░██║░░░░░██╔══██║██║░░░██║██║╚██╗██║██╔══╝░░░░░██║░░░</span>    </pre>
    <pre>      <span class="logo-5">███████║░░░██║░░░╚██████╗██║░░██║╚██████╔╝██║░╚████║███████╗░░░██║░░░</span>   </pre>
    <pre>      <span class="logo-6">╚══════╝░░░╚═╝░░░░╚═════╝╚═╝░░╚═╝░╚═════╝░╚═╝░░╚═══╝╚══════╝░░░╚═╝░░░</span>    </pre>
    <pre>            w h e r e  t h e  p h o s p h o r s  n e v e r  f a d e             </pre>
    <pre>       ░▒▓█▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄█▓▒░        </pre>
    <pre>██▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀██</pre>
    <pre>░░  vintage computing & project logs                           node 1 of 1    ░░</pre>
    <pre>▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀</pre>
  </div>
  <div class="menu-box">  
    <pre class="box-line">{`█                          ▒▒▒ M A I N   M E N U ▒▒▒                           █`}</pre>
    <pre class="box-line">{`█                                                                              █`}</pre>
    <pre class="menu-line">█             <a href="/projects/">[P] Project Logs</a>              <a href="/about/">[A] About</a>                          █</pre>
    <pre class="menu-line">█             <a href="/hardware/">[H] Hardware</a>                  <a href="/news/">[N] System News</a>                    █</pre>
    <pre class="menu-line">█             <a href="/bulletin/">[B] Bulletin Board</a>            <a href="/wall/">[W] Message Wall</a>                   █</pre>
    <pre class="menu-line">█             <a href="/files/">[F] File Archive</a>              <a href="/links/">[L] Links</a>                          █</pre>
    <pre class="menu-line">█             <a href="/contact/">[C] Contact</a>                                                      █</pre>
    <pre class="box-line">{`█                                                                              █`}</pre>
    <pre class="box-line">{`█▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄█`}</pre>
    <pre class="box-line">{`█  SysOp: k0bura                  "Beauty and danger often come together."     █`}</pre>
    <pre class="box-line">{`▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀`}</pre>
  </div>

  <div class="section-header">
    <pre>{`
▒▒▒ MESSAGES ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒`}</pre>
  </div>

  <pre class="motd modem-line" id="motd"></pre>

  <div class="message pinned modem-line">
    <span class="msg-badge">■ PINNED</span>
    <span class="msg-from">k0bura</span>
    <p>System is online. welcome to sych0net. Vintage computing builds, teardowns, logs, and me. Navigate with keyboard shortcuts or click around like it's 1994.</p>
  </div>

  <div class="message modem-line">
    <span class="msg-badge">■ 2026-02-26</span>
    <span class="msg-tag">NEW SECTION</span>
    <a href="/bulletin/">Bulletin Board</a> is live. posts from the sysop.
  </div>

  <div class="message modem-line">
    <span class="msg-badge">■ 2026-02-26</span>
    <span class="msg-tag">UPDATE</span>
    <a href="/bulletin/wall-locations/">BBS-style board names</a> from datacenter codes.
  </div>

  <div class="message modem-line">
    <span class="msg-badge">■ 2026-02-24</span>
    <span class="msg-tag">NEW SECTION</span>
    <a href="/hardware/">Hardware gallery</a> is live. inventory begins.
  </div>

  <div class="message modem-line">
    <span class="msg-badge">■ 2026-02-24</span>
    <span class="msg-tag">NEW HARDWARE</span>
    <a href="/hardware/data-io-201/">Data I/O 201 EPROM Programmer</a>
  </div>

  <div class="message modem-line">
    <span class="msg-badge">■ 2026-02-22</span>
    <span class="msg-tag">NEW PROJECT</span>
    <a href="/projects/gridcase-1520-restoration/">GRiDCASE 1520 restoration</a>
  </div>

  <div class="message modem-line">
    <span class="msg-badge">■ 2026-02-21</span>
    <span class="msg-tag">NEW PROJECT</span>
    <a href="/projects/compaq-486c-restoration/">Compaq Portable 486c documentation</a>
  </div>

  <pre class="status-bar">{`
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
 2400 baud ■ ANSI detected ■ UTF-8 ■ Est. 2026`}</pre>
  <span class="cursor">█</span>
</Base>

<style>
  .ascii-art {
    color: #cc9900;
    line-height: 1;
    overflow: hidden;
  }

  .ascii-art pre {
    background: none !important;
    border: none !important;
    padding: 0 !important;
    margin: 0;
    overflow: hidden;
  }

  .tagline {
    color: #888;
    margin: 0 0 1.5rem 0;
  }

  .menu-box {
    line-height: 1;
  }

  .menu-box pre {
    background: none !important;
    border: none !important;
    padding: 0 !important;
    margin: 0;
    overflow: hidden;
  }

  .box-line {
    color: #cc9900;
  }

  .menu-line {
    color: #cc9900;
    background: none !important;
    border: none !important;
    padding: 0 !important;
    margin: 0;
    line-height: 1;
  }

  .menu-line a {
    text-decoration: none;
    color: #88cc88;
  }

  .menu-line a:visited {
    color: #88cc88;
  }

  .menu-line a:hover {
    color: #111;
    background: #88cc88;
    text-decoration: none;
  }

  .section-header pre {
    color: #ffcc00;
    background: none !important;
    border: none !important;
    padding: 0 !important;
    margin: 1rem 0 0.5rem 0;
  }

  li {
    margin: 0.3rem 0;
  }

  .date {
    color: #665200;
    margin-right: 0.5rem;
  }

  .desc {
    color: #999;
  }

  .motd {
    color: #665200;
    background: none !important;
    border: none !important;
    padding: 0 !important;
    margin: 0.5rem 0;
    font-style: italic;
  }

  .modem-line {
    opacity: 0;
    max-height: 0;
    overflow: hidden;
    transition: opacity 0.15s ease-in, max-height 0.15s ease-in;
  }

  .modem-line.visible {
    opacity: 1;
    max-height: 10em;
  }

  .message {
    margin: 0.3rem 0;
    padding: 0.3rem 0;
  }

  .message.pinned {
    margin: 0.5rem 0 0.8rem 0;
    padding: 0.5rem 0;
    border-bottom: 1px dashed #332b00;
  }

  .message p {
    margin: 0.3rem 0 0 0;
  }

  .msg-badge {
    color: #665200;
    margin-right: 0.3rem;
  }

  .msg-from {
    color: #ffcc00;
  }

  .msg-tag {
    color: #88cc88;
    margin-right: 0.3rem;
  }

  .status-bar {
    color: #665200;
    background: none !important;
    border: none !important;
    padding: 0 !important;
    margin-top: 2rem;
  }

  .logo-1 {
    color: #ffee88;
  }

  .logo-2 {
    color: #ffcc00;
  }

  .logo-3 {
    color: #cc9900;
  }

  .logo-4 {
    color: #aa7700;
  }

  .logo-5 {
    color: #885500;
  }

  .logo-6 {
    color: #664400;
  }


  .cursor {
    color: #999;
    animation: blink 1s step-end infinite;
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }
</style>

<script>
  const MOTD_KEY = 'sychonet_motd';
  const MOTD_TS_KEY = 'sychonet_motd_ts';
  const DAY_MS = 86400000;
  const MODEM_DELAY = 350;

  const el = document.getElementById('motd')!;
  const msgLines = document.querySelectorAll('.modem-line:not(#motd)');

  function revealAll() {
    el.classList.add('visible');
    msgLines.forEach((line, i) => {
      setTimeout(() => line.classList.add('visible'), MODEM_DELAY * (i + 1));
    });
  }

  function display(quote: string) {
    el.textContent = quote;
    revealAll();
  }

  const cached = localStorage.getItem(MOTD_KEY);
  const cachedTs = Number(localStorage.getItem(MOTD_TS_KEY) || 0);
  const stale = Date.now() - cachedTs > DAY_MS;

  if (cached && !stale) {
    display(cached);
  } else {
    fetch('/fortunes.txt')
      .then(r => r.text())
      .then(text => {
        const quotes = text.split('\n%\n').map(q => q.trim()).filter(Boolean);
        const pick = quotes[Math.floor(Math.random() * quotes.length)];
        localStorage.setItem(MOTD_KEY, pick);
        localStorage.setItem(MOTD_TS_KEY, String(Date.now()));
        display(pick);
      })
      .catch(() => {
        el.textContent = 'NO CARRIER';
        revealAll();
      });
  }
</script>

